<div class="panel-header panel-header-sm"></div>
<div class="main-content">
  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="card-header">
          <h4 class="card-title">Historical Invoice States</h4>
        </div>
        <div class="card-body">
          <div class="table-responsive">
            <p-table
              #dt2
              [value]="invoiceStates"
              [columns]="cols"
              [lazy]="true"
              (onLazyLoad)="loadInvoicesStatesHistory($event)"
              responsiveLayout="scroll"
              [paginator]="true"
              [rows]="10"
              [totalRecords]="totalRecords"
              [loading]="loading"
              [rowsPerPageOptions]="[10, 25, 50]"
              [className]="'my-primeng-table'"
              styleClass="p-datatable-striped"
            >
              <ng-template pTemplate="caption">
                <div class="p-d-flex">
                  <button
                    pButton
                    label="Clear"
                    class="p-button-outlined"
                    icon="pi pi-filter-slash"
                    (click)="clear(dt2)"
                  ></button>
                  <p-autoComplete
                    [(ngModel)]="text"
                    [suggestions]="results"
                    (completeMethod)="search($event)"
                    (onSelect)="selectedDatetime($event)"
                    placeholder="Filter by Datetime"
                    [virtualScroll]="true"
                  ></p-autoComplete>
                </div>
              </ng-template>

              <ng-template pTemplate="header" let-columns>
                <tr>
                  <th
                    *ngFor="let col of columns"
                    pSortableColumn="{{ col.field }}"
                  >
                    {{ col.header }}
                    <p-sortIcon field="{{ col.field }}"></p-sortIcon>
                  </th>
                </tr>
              </ng-template>
              <ng-template pTemplate="body" let-rowData let-columns="columns">
                <tr>
                  <td *ngFor="let col of columns">
                    <div [innerHtml]="rowData[col.field] | myCustomePipe "></div>
                  </td>
                </tr>
              </ng-template>
            </p-table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
